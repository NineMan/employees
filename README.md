<a href="https://github.com/psf/black">
<img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg"></a>

Это приложение - реализация тестового задания на позицию python разработчика.

Задание
---------
Реализовать веб-приложение которое предоставляет один API метод 
для получения списка определенных сотрудников. 
Приложение должно быть реализовано с использованием FastAPI и MongoDB.
Список данных прикреплен в json файле.
Плюсом будет использование Docker, покрытие тестами.

Описание
----------

Реализованы методы для списка сотрудников:

```/getAllEmployees``` - метод возвращающий список всех сотрудников в БД

```/getEmployeesByGender/{gender}``` - метод возвращающий список всех сотрудников, 
отфильтрованных по полю ```gender```. Для этой точки параметр передаётся
в пути.

```/getEmployeesByCompany``` - метод возвращающий список всех сотрудников,
отфильтрованных по полю ```company```. Обрабатывает параметр в запросе.

```/getEmployeesByAge``` - метод возвращающий список всех сотрудников,
отфильтрованных по полю ```age```. Обрабатывает параметр в запросе.

```/getEmployeesBySalary``` - метод возвращающий список всех сотрудников,
отфильтрованных по полю ```salary```. 
Обрабатывает в запросе два параметра: 

```salary``` - целое число, больше 0, значение зарплаты для фильтрации 

```direction``` - булевое, по умолчанию True. Указывает как фильтровать:

    True - больше либо равно значения salary

    False - меньше либо равно значения salary 


Также реализованы методы POST, GET, PUD, DELETE для одного сотрудника

Все реализованные маршруты можно посмотреть здесь ``/docs`` или здесь ``/redoc``.

[/docs](http://127.0.0.1:8000/docs)

[/redoc](http://127.0.0.1:8000/redoc)


Быстрый старт
---------------

1 Установить виртуальное окружение и запустить его

2 Скопировать себе репозитарий

```python
git clone https://github.com/NineMan/employees.git
```

3 Установить зависимости

```python
pip install -r requirements.txt
```

4 Создать и заполнить БД данными из employees.json

```python
python load_db.py
```

5 Запуск тестов (не реализовано):

```python
pass
```

6 Запустить приложение:

```python
python app/main.py
```

#### Запуск через Docker (не реализовано)

Необходимо иметь установленные ``docker`` и ``docker-compose``

### Вспомогательные команды для разработки:

Форматирование кода инструментом black (не забывать про ручной перенос строк)

```python
python -m black --line-length 79 app/
```

#### ToDo

1) Указывать файл для загрузки
2) Добавить тесты
